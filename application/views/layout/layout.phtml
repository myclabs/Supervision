<?php
    // Layout d'un projet.
    echo $this->doctype()."\n";
?>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <base href="http://<?=$_SERVER["SERVER_NAME"]?><?=$this->baseUrl()?>/" />
        <title><?=Core_Package_Manager::getCurrentPackage()->getName()?></title>
        <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="images/favicon.ico" type="image/x-icon" />

        <link rel="stylesheet" type="text/css" href="yui/build/reset-fonts-grids/reset-fonts-grids.css" />
        <link rel="stylesheet" type="text/css" href="yui/build/fonts/fonts-min.css" />
        <link rel="stylesheet" type="text/css" media="screen" href="css/ui/layout.css" />

        <?php
        // Fichier nécéssaire au masque.
        $this->headScript()->appendFile('yui/build/yahoo-dom-event/yahoo-dom-event.js', 'text/javascript');
        $this->headScript()->appendFile('scripts/ui/masque.js', 'text/javascript');
        // Ajout des Fichiers CSS nécéssaires au Menu.
        $this->headLink()->appendStylesheet('yui/build/menu/assets/skins/sam/menu.css');
        $this->headLink()->appendStylesheet('yui/build/button/assets/skins/sam/button.css');
        $this->headLink()->appendStylesheet('yui/build/container/assets/skins/sam/container.css');
        // Ajout des fichiers Javascript nécéssaires au Menu.
        $this->headScript()->appendFile('yui/build/container/container_core-min.js', 'text/javascript');
        $this->headScript()->appendFile('yui/build/menu/menu-min.js', 'text/javascript');
        $this->headScript()->appendFile('yui/build/animation/animation-min.js', 'text/javascript');
        $this->headScript()->appendFile('scripts/ui/menu.js', 'text/javascript');
        // Ajout des fichiers nécéssaires aux Messages.
        UI_Message::addHeader();

        // Ajout des link, Scripts et Styles dynamiques.
            echo '
'.$this->headLink();
            echo '
'.$this->headScript();
            echo '
'.$this->headStyle();
        ?>

    </head>

    <body class="yui-skin-sam" id="yahoo-com">

        <div id="Page">

            <div id="enTete">
                <?=$this->partial('elements/entete.phtml', array())?>
            </div>

            <div id="bandeau">
                <?=$this->partial('elements/bandeau.phtml', array())?>
            </div>

            <div id="Menu">
                <?=$this->partial('elements/menu.phtml', array())?>
            </div>

            <div id="Masque">
                <div id="CadrePage"></div>
                <div id="CadreChargement">
                    <span>Chargement en cours ...</span>
                </div>
            </div>
            <script type="text/javascript">
            /*<![CDATA[*/
                setMasque(true, false);
            /*]]>*/
            </script>

            <?php
            UI_Message::renderStatic();
            ?>

            <div id="Corps">
                <?=$this->layout()->content?>
            </div>

            <div id="Pied">
                <?=$this->partial('elements/pied.phtml', array())?>
            </div>
        </div>
    </body>
</html>